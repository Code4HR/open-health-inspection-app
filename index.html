<!DOCTYPE html>
<html lang="en" ng-app="openHealthDataApp" xmlns="http://www.w3.org/1999/xhtml" xmlns:fb="http://ogp.me/ns/fb#">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	  <META NAME="description" CONTENT="Easily get public health inspection data for eateries near you.">
    <meta name="keywords" content="inspection, health inspection, dining, restaurant, cafeteria, open data, open government data, Code for America, Code for America Brigade, cfabrigade, mobile, HTML5, app, open source, Code for Hampton Roads, volunteers, volunteering, civic, civic engagement, public service">
    <meta property="og:image" content="img/build/preview." />

    <title>Open Health Inspection App</title>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

  </head>
  <body>

    <header class="navbar-fixed-top">
      <div class="container-fluid">
        
        <div class="row">
          <div class="hidden-xs col-xs-2 col-sm-9">
            <a href="#/">
              <h1 >Open Health Inspection App</h1>
            </a>
          </div>

          <div id="searchbar" class="col-sm-3 clearfix" ng-controller="searchCtrl">
            <form id="search" ng-controller="searchCtrl" ng-submit="nameSearch()" novalidate>
              <input class="col-xs-10" type="search" ng-model="query" placeholder="Search for a restaurant">
              <button class="col-xs-2 btn btn-info">
                <span class="glyphicon glyphicon-search"></span>
              </button>
            </form>
          </div>

        </div>
      
      </div>
    </header>

    <div id="main" class="container-fluid ng-cloak">
    
      <section ng-controller="mapCtrl">

        <script type="text/ng-template" id="myModalContent.html">
          <div class="modal-header">
              <h3 class="modal-title">A modal!</h3>
          </div>
          <div class="modal-body">
              <ul>
                  <li ng-repeat="item in items">
                      <a ng-click="selected.item = item">{{ item }}</a>
                  </li>
              </ul>
              Selected: <b>{{ selected.item }}</b>
          </div>
          <div class="modal-footer">
              <button class="btn btn-primary" ng-click="ok()">OK</button>
              <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
          </div>
        </script>

        <google-map center="map.center" zoom="map.zoom" pan="true" draggable="true">  
          <marker ng-repeat="restaurant in results" coords="restaurant.coordinates">
            <window show="markerShow" closeClick="true">
              <center>
                <h4>{{restaurant.name}}</h4>
                <h4>{{restaurant.score}}</h4>
                <p><a class="btn btn-info" href="#{{restaurant.url}}">Learn More</a></p>
              </center>
            </window>
          </marker>
        </google-map>

      </section>

      <section class="col-sm-3 col-sm-offset-9" id="searchResults" ng-controller="searchResultsCtrl">
        <a ng-blur="lostFocus()" id="nottalink" href="#">Link</a>
        <ul class="row" ng-hide="!isVisible">
          <li ng-repeat="restaurant in results | orderBy:dist" class="clearfix">
          <a href="#{{restaurant.url}}">
            <div class="col-xs-9">
              <p class="restaurant-name">{{restaurant.name}}</p>
              <p bind-once class="distance">{{distanceCalculation(restaurant.coordinates) | number:2}} Miles Away</p>             
            </div>
            <div class="col-xs-3 restaurant-score">{{restaurant.score}}</div> 
          </a>
          </li>
        </ul>
      </section>

      <div ng-view></div>

    </div>

    <link href="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet">
    <link href="css/production.min.css" rel="stylesheet">
    <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,900,300italic,400italic,700,700italic,900italic' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Bitter:400,700,400italic' rel='stylesheet' type='text/css'>

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.12/angular.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.12/angular-resource.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.9/angular-route.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.9/angular-animate.min.js"></script>
    <script type="text/javascript" src="https://maps.google.com/maps/api/js?sensor=false"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.5.2/underscore-min.js"></script>
    <script src="js/production.js"></script>
    <script src="js/libs/angular-google-maps.min.js"></script>


    </body>
</html>
